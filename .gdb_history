stepi 
stepi 
x/32xw $esp
stepi 
x/32xw $esp
stepi 
x/32xw $esp
stepi 
x/32xw $esp
stepi 
x/32xw $esp
x/32xw $es<<4+define hook-stop
    info registers
    printf "\n"
    x/16i $pc - 8
    printf "\n"
x/32xw $es<<4+0x103648
x/32xw 0x103648
q
target remote localhost:1234
file kernel
define hook-stop
    info registers
    printf "\n"
    x/16i $pc - 8
    printf "\n"
end
break kernel_main 
c
stepi 
stepi 
ni
stepi 
ni
q
target remote localhost:1234
define hook-stop
    info registers
    printf "\n"
    x/16i $pc - 8
    printf "\n"
end
file kernel
break kernel_main 
c
stepi 
ni
stepi 
q
target remote localhost:1234
file kernel
define hook-stop
    info registers
    printf "\n"
    x/16i $pc - 8
    printf "\n"
end
break kernel_main 
c
stepi 
ni
stepi 
ni
stepi 
ni
q
target remote localhost:1234
file kernel
define hook-stop
    info registers
    printf "\n"
    x/16i $pc - 8
    printf "\n"
end
break kernel_main 
c
ni
stepi 
x/32xw (void *)&id
stepi 
stepi 800
x/32xw (void *)&id
stepi 
define hook-stop
    info registers
    printf "\n"
    x/16i $pc - 8
    printf "\n"
stepi 0xffce2
target remote localhost:1234
file kernel
define hook-stop
    info registers
    printf "\n"
    x/16i $pc - 8
    printf "\n"
end
break kernel_main 
c
ni
stepi 
ni
q
target remote localhost:1234
file kernel
break init_timer 
define hook-stop
    info registers
    printf "\n"
    x/16i $pc - 8
    printf "\n"
end
c
stepi 
stepi 
print divisor 
print frequency 
stepi 
ni
stepi 
ni
q
define hook-stop
    info registers
    printf "\n"
    x/16i $pc - 8
    printf "\n"
end
target remote localhost:1234
file kernel
break kernel_main 
c
ni
q
target remote localhost:1234
file kernel
define hook-stop
    info registers
    printf "\n"
    x/16i $pc - 8
    printf "\n"
end
break kernel_main 
c
ni
stepi 
ni
stepi 
q
target remote localhost:1234
file kernel
define hook-stop
    info registers
    printf "\n"
    x/16i $pc - 8
    printf "\n"
end
break kernel_main 
c
ni
stepi 
ni
ni
stepi 
stepi 
ni
ni
ni
stepi 
q
target remote localhost:1234
file kernel
break kernel_main 
break _start
define hook-stop
    info registers
    printf "\n"
    x/16i $pc - 8
    printf "\n"
end
c
stepi 
x/10i $eip
stepi 
x/8xw $esp
stepi 
stepi 
x/8xw $esp
stepi 
stepi 
ni
ni
ni
stepi 
ni
stepi 
ni
ni
stepi 
stepi 
ni
stepi 
stepi 
ni
ni
ni
stepi 
stepi 
ni
c
stepi 
q
target remote localhost:1234
file kernel
define hook-stop
    info registers
    printf "\n"
    x/16i $pc - 8
    printf "\n"
end
break kernel_main 
c
ni
stepi 
stepi 
x/s *0x100fa5
x/s 0x100fa5
stepi 
ni
q
target remote localhost:1234
file kernel
define hook-stop
    info registers
    printf "\n"
    x/16i $pc - 8
    printf "\n"
end
break kernel_main 
break irq_handler 
break irq_common_stub 
c
c
bt
stepi 
ni
stepi 
x/32xw $esp
stepi 
x/32xw $esp
stepi 
x/x 0x100fa5
stepi 
ni
q
print /t 0xFFFFF000
